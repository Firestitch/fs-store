!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@firestitch/store",[],t):"object"==typeof exports?exports["@firestitch/store"]=t():e["@firestitch/store"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./index.ts")}({"./fsstore.module.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(t,"__esModule",{value:!0});var n=r("./fsstore.service.ts"),s=r("@angular/common/http"),i=r("@angular/core"),c=r("@angular/common"),u=function(){function e(){}return t=e,e.forRoot=function(){return{ngModule:t,providers:[n.FsStore]}},e=t=o([i.NgModule({imports:[c.CommonModule,s.HttpClientModule],declarations:[],providers:[n.FsStore],exports:[]})],e);var t}();t.FsStoreModule=u},"./fsstore.service.ts":function(e,t,r){"use strict";var o=this&&this.__decorate||function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(s<3?n(i):s>3?n(t,r,i):n(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=r("@angular/core"),i=r("rxjs/Observable"),c=r("@firestitch/common"),u=function(){function e(e,t,r){this.name=e,this.event=t,this.value=r}return e.EVENT_SET="set",e.EVENT_REMOVE="remove",e.EVENT_INIT="init",e}();t.FsStoreObject=u;var f=function(){function e(e){this.FsUtil=e,this.storage=window.localStorage,this.observers=[]}return e.prototype.observe=function(e){var t=this;return i.Observable.create(function(r){t.observers.push(r),e&&r.next(new u(e,u.EVENT_INIT,t.get(e)))}).filter(function(t){return!e||e===t.name})},e.prototype.get=function(e,t){if(void 0===t&&(t={}),this.storage.hasOwnProperty(e))try{return JSON.parse(this.storage[e])}catch(e){}if(void 0!==t.default)return t.default},e.prototype.set=function(e,t,r){return void 0===r&&(r={}),this.storage[e]=JSON.stringify(t),this.FsUtil.each(this.observers,function(r){r.next(new u(e,u.EVENT_SET,t))}),this},e.prototype.remove=function(e,t){return void 0===t&&(t={}),delete this.storage[e],this.FsUtil.each(this.observers,function(t){t.next(new u(e,u.EVENT_REMOVE))}),this},e.prototype.clear=function(){for(var e=this,t=0;t<this.storage.length;t++)!function(t){var r=e.storage.key(t);e.FsUtil.each(e.observers,function(e){e.next(new u(r,u.EVENT_REMOVE))})}(t);return this.storage.clear(),this},e=o([s.Injectable(),n("design:paramtypes",[c.FsUtil])],e)}();t.FsStore=f},"./index.ts":function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r("./fsstore.module.ts")),o(r("./fsstore.service.ts"))},"@angular/common":function(e,t){e.exports=require("@angular/common")},"@angular/common/http":function(e,t){e.exports=require("@angular/common/http")},"@angular/core":function(e,t){e.exports=require("@angular/core")},"@firestitch/common":function(e,t){e.exports=require("@firestitch/common")},"rxjs/Observable":function(e,t){e.exports=require("rxjs/Observable")}})});